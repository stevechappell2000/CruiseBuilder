{"version":3,"file":"create.component.js","sourceRoot":"","sources":["../../src/resource/create.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,YAAY,EAAU,MAAM,eAAe,CAAC;AAChE,OAAO,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EAAE,qBAAqB,EAAE,MAAM,oBAAoB,CAAC;AAC3D,OAAO,EAAE,oBAAoB,EAAE,MAAM,mBAAmB,CAAC;;IAWvD,uCACS,OAA8B,EAC9B,KAAqB,EACrB,MAAc,EACd,MAA4B;QAH5B,YAAO,GAAP,OAAO,CAAuB;QAC9B,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,WAAM,GAAN,MAAM,CAAsB;QAEnC,IAAI,CAAC,OAAO,GAAG,IAAI,YAAY,EAAE,CAAC;QAClC,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,EAAE,CAAC;KACrC;IAED,gDAAQ,GAAR;;QAEE,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;KAC3B;IAED,gDAAQ,GAAR,UAAS,UAAe;QAAxB,iBASC;QARC,IAAI,CAAC,OAAO;aACT,IAAI,CAAC,UAAU,CAAC;aAChB,IAAI,CAAC;YACJ,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAC,EAAE;gBAC/D,UAAU,EAAE,KAAI,CAAC,KAAK;aACvB,CAAC,CAAC;SACJ,CAAC;aACD,KAAK,CAAC,UAAC,GAAQ,IAAK,OAAA,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;KAChD;;gBAjCF,SAAS,SAAC;oBACT,MAAM,EAAE,CAAC,oCAAoC,CAAC;oBAC9C,QAAQ,EAAE,qbAEoM;iBAC/M;;;;gBARQ,qBAAqB;gBADb,cAAc;gBAAtB,MAAM;gBAEN,oBAAoB;;wCAH7B;;SAWa,6BAA6B","sourcesContent":["import { Component, EventEmitter, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormioResourceService } from './resource.service';\nimport { FormioResourceConfig } from './resource.config';\n\n@Component({\n  styles: ['.back-button { font-size: 0.8em; }'],\n  template: `\n      <h3 *ngIf=\"service.form\" style=\"margin-top:0;\"><a routerLink=\"../\" class=\"back-button\"><i class=\"fa fa-chevron-left glyphicon glyphicon-chevron-left\"></i></a> | New {{ service.form.title }}</h3>\n      <formio [form]=\"service.form\" [submission]=\"service.resource\" [refresh]=\"service.refresh\" [hideComponents]=\"config.parents\" [error]=\"onError\" [success]=\"onSuccess\" (submit)=\"onSubmit($event)\"></formio>`\n})\nexport class FormioResourceCreateComponent implements OnInit {\n  public onError: EventEmitter<any>;\n  public onSuccess: EventEmitter<any>;\n  constructor(\n    public service: FormioResourceService,\n    public route: ActivatedRoute,\n    public router: Router,\n    public config: FormioResourceConfig\n  ) {\n    this.onError = new EventEmitter();\n    this.onSuccess = new EventEmitter();\n  }\n\n  ngOnInit() {\n    // Start with fresh data.\n    this.service.initialize();\n  }\n\n  onSubmit(submission: any) {\n    this.service\n      .save(submission)\n      .then(() => {\n        this.router.navigate(['../', this.service.resource._id, 'view'], {\n          relativeTo: this.route\n        });\n      })\n      .catch((err: any) => this.onError.emit(err));\n  }\n}\n"]}